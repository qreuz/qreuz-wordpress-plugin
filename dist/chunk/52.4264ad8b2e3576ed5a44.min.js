"use strict";(self.webpackChunkqreuz_wordpress_plugin=self.webpackChunkqreuz_wordpress_plugin||[]).push([[52],{9426:function(e,t,r){r.d(t,{Z:function(){return n.Z}});var n=r(7595)},7595:function(e,t,r){r.d(t,{Z:function(){return s}});const{render:n,useState:a}=wp.element;function s(e,t,r,n){const a={action:e,qreuz_current_time:(new Date).toLocaleTimeString(),_wpnonce:qreuzEnv._wpnonce,_wp_http_referer:qreuzEnv._wp_http_referer,form:t};return void 0!==n&&(a.data=JSON.stringify(n)),async function(){var e=[];for(var t in a){var r=encodeURIComponent(t),n=encodeURIComponent(a[t]);e.push(r+"="+n)}e=e.join("&");const s=await fetch(qreuzEnv._wp_ajax_url,{method:"POST",body:e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((e=>{if(e.ok)return e.json();throw new Error("Server response was not OK")})).then((e=>e));return null!=s?s:'{"success": false, "msg": "response undefined"}'}()}},6052:function(e,t,r){r.r(t),r.d(t,{default:function(){return T}});var n=r(7462),a=r(9307),s=r(3727),i=r(7536),o=r(8834),l=r(9501),u=r(1120),c=r(8286),m=r(282),d=r(5477),p=r(6912),g=r(8715),f=r(7155),_=r(2318),w=r(8463),h=r(9912),E=r(9426),v=r(4865);const{render:k,useState:b}=wp.element,x=(0,u.Z)((e=>({isHidden:{display:"none",visibility:"hidden"},heading:{textAlign:"left",marginBottom:"1em"},bold:{fontWeight:"bold",textAlign:"left"},wrapper:{margin:e.spacing(1),position:"relative",textAlign:"left",maxWidth:"fit-content"},formAdornment:{color:"green"},qreuzLogin:{textAlign:"left",marginTop:"1em"}}))),y=l.Ry().shape({user_email:l.Z_().email("Please enter a valid email address.").required("Email is required."),user_password:l.Z_().required("Password is required.").max(86,"Enough is enough: 86 characters maximum.").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])+/,"This does not look like a valid password. Remember, you had used at least one of each: CAPITAL LETTERS, small letters, numbers.")});function T(e){const{handleSubmit:t,register:r,reset:l,formState:{errors:u}}=(0,i.cI)({resolver:(0,o.X)(y)}),{setJustLoggedIn:k}=React.useContext(v.Q0),[T,Z]=b(!1),[q,z]=b(!1),[S,C]=b(!1),[R,L]=b({variant:"",message:"",title:"",link01:"",linkText01:"",link02:"",linkText02:""}),A=x(),N=React.useRef(),U=(e,t)=>{"clickaway"!==t&&C(!1)};return React.useEffect((()=>(document.title="Login - Qreuz",()=>{clearTimeout(N.current)})),[]),(0,a.createElement)(React.Fragment,null,(0,a.createElement)(w.Z,null,(0,a.createElement)(h.Z,null,(0,a.createElement)("form",{id:"qreuz_admin_form_login",onSubmit:t((t=>{T||(z(!1),Z(!0));const r={user_password:t.user_password,user_email:t.user_email};(async()=>{try{const n=await(0,E.Z)("qreuz_getstarted","login",e,r);!0===n.success?(t=n.msg,Z(!0),z(!0),L({...R,variant:"success",message:t,title:"Success",link01:"",linkText01:"",link02:"",linkText02:""}),C(!0),setTimeout((function(){k(!0)}),3e3)):(e=>{Z(!1),z(!1),L({...R,variant:"error",message:e,title:"Error",link01:"admin.php?page=qreuz&subpage=getstarted",linkText01:"➜ No account yet?",link02:"https://qreuz.com/",linkText02:"➜ Get in contact with our customer service."}),C(!0),l({user_password:""},{errors:!0,dirtyFields:!0,isDirty:!0,isSubmitted:!0,touched:!1,isValid:!1,submitCount:!1})})(n.msg)}catch(e){console.log(e)}var t})()})),noValidate:!0,autoComplete:"off"},(0,a.createElement)(_.Z,{component:"h5",className:A.heading+" "+A.bold},"Log in to your user account at Qreuz"),(0,a.createElement)(c.Z,(0,n.Z)({},r("user_email",{required:!0}),{name:"user_email",id:"user_email",type:"text",label:"Email",disabled:T,error:u.user_email,defaultValue:"",helperText:u.user_email?u.user_email.message:" "})),(0,a.createElement)(c.Z,(0,n.Z)({},r("user_password",{required:!0}),{name:"user_password",id:"user_password",type:"password",label:"Password",disabled:T,error:u.user_password,defaultValue:"",helperText:u.user_password?u.user_password.message:" "})),(0,a.createElement)("div",{className:A.wrapper},(0,a.createElement)(m.Z,{variant:"contained",type:"submit",disabled:T,size:"large",color:"primary"},"Log in",T&&(0,a.createElement)(d.Z,{size:24}))),(0,a.createElement)("p",{className:A.qreuzLogin},"No account yet? ",(0,a.createElement)(s.rU,{to:"admin.php?page=qreuz&subpage=getstarted"},"Get started here"))))),(0,a.createElement)(p.Z,{open:S,autoHideDuration:18e3,onClose:U},(0,a.createElement)(g.Z,(0,n.Z)({onClose:U,severity:R.variant,elevation:6,variant:"filled"},e),(0,a.createElement)(f.Z,null,R.title),R.message,(0,a.createElement)(s.rU,{to:R.link01},R.linkText01),(0,a.createElement)(s.rU,{to:R.link02},R.linkText02))))}}}]);