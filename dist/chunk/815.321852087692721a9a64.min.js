"use strict";(self.webpackChunkqreuz_wordpress_plugin=self.webpackChunkqreuz_wordpress_plugin||[]).push([[815],{5815:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var a=r(7462),s=r(9307),o=r(3727),i=r(7536),n=r(8834),l=r(9501),u=r(1120),c=r(8286),m=r(282),d=r(5477),p=r(6912),f=r(8715),g=r(7155),w=r(2318),_=r(1749),y=r(8463),h=r(9912),v=r(9426),E=r(4865);const{useState:k}=wp.element,b=(0,u.Z)((e=>({isHidden:{display:"none",visibility:"hidden"},form:{maxWidth:"500px",display:"inline-block",alignItems:"left",backgroundColor:"#ffffff",padding:"2em","& > *":{display:"block"}},wrapper:{textAlign:"left"},qreuzFormLegalinfo:{fontSize:"90%",margin:".5em 0"},qreuzFormField:{display:"block"},formAdornment:{color:e.palette.primary.main},heading:{textAlign:"left",marginBottom:"1em"},bold:{fontWeight:"bold",textAlign:"left"},qreuzLogin:{textAlign:"left"},arrowIcon:{display:"block",width:"100%",height:"3em",color:"#14b084",marginBottom:"1em"}}))),Z=l.Ry().shape({user_password:l.Z_().min(8,"8 characters minimum.").max(86,"Enough is enough: 86 characters maximum.").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])+/,"At least one of each: CAPITAL LETTERS, small letters, numbers.").required("Password is required."),user_password_verify:l.Z_().oneOf([l.iH("user_password"),null],"Passwords don't match.")});function x(e){const{handleSubmit:t,register:r,reset:l,formState:{errors:u}}=(0,i.cI)({resolver:(0,n.X)(Z)}),{userEmail:x,authParam:z,setJustLoggedIn:T}=React.useContext(E.Q0),[q,S]=React.useState(!1),[A,C]=React.useState(!1),R=React.useRef(),[L,P]=k(!1),[B,F]=k({variant:"",message:"",title:"",link01:"",linkText01:"",link02:"",linkText02:""}),I=b(),N=(e,t)=>{"clickaway"!==t&&P(!1)};return React.useEffect((()=>(document.title="Activate your account - Qreuz",()=>{clearTimeout(R.current)})),[]),(0,s.createElement)("div",{className:I.root},(0,s.createElement)(_.Z,{container:!0},(0,s.createElement)(_.Z,{item:!0,xs:12,sm:12,md:12},(0,s.createElement)(w.Z,{variant:"h2",gutterBottom:!0},"Nice! You're almost there."),(0,s.createElement)(w.Z,{variant:"body1",gutterBottom:!0},"Just one more step to get started with your new Qreuz user account.")),(0,s.createElement)(_.Z,{item:!0,xs:12},(0,s.createElement)(y.Z,null,(0,s.createElement)(h.Z,null,(0,s.createElement)("form",{id:"qreuz_admin_form_activate",onSubmit:t((t=>{q||(C(!1),S(!0));const r={auth_key:z,user_password:t.user_password,user_email:x};(async()=>{try{const a=await(0,v.Z)("qreuz_getstarted","activate",e,r);!0===a.success?(t=a.msg,S(!0),C(!0),F({...B,variant:"success",message:t,title:"Success",link01:"",linkText01:"",link02:"",linkText02:""}),P(!0),setTimeout((function(){T(!0)}),3e3)):(e=>{S(!1),C(!1),F({...B,variant:"error",message:e,title:"Error",link01:"https://qreuz.com/documentation/",linkText01:"➜ Troubleshooting.",link02:"https://qreuz.com/",linkText02:"➜ Get in contact with our customer service."}),P(!0),l({user_password:"",user_password_verify:""},{errors:!0,dirtyFields:!0,isDirty:!0,isSubmitted:!0,touched:!1,isValid:!1,submitCount:!1})})(a.msg)}catch(e){console.log(e)}var t})()})),className:I.form,noValidate:!0,autoComplete:"off"},(0,s.createElement)(w.Z,{variant:"h4"},"Set your password now"),(0,s.createElement)(w.Z,{variant:"caption"},"Your username: ",(0,s.createElement)("strong",null,x)),(0,s.createElement)(c.Z,(0,a.Z)({},r("user_password",{required:!0}),{name:"user_password",id:"user_password",type:"password",label:"Set your password",error:u.user_password,defaultValue:"",disabled:q,helperText:u.user_password?u.user_password.message:" "})),(0,s.createElement)(c.Z,(0,a.Z)({},r("user_password_verify",{required:!0}),{name:"user_password_verify",id:"user_password_verify",type:"password",label:"Confirm your password",error:u.user_password_verify,disabled:q,defaultValue:"",helperText:u.user_password_verify?u.user_password_verify.message:" "})),(0,s.createElement)("p",{className:I.qreuzFormLegalinfo},"By setting your password and registering an account, you are accepting our ",(0,s.createElement)("a",{href:"https://qreuz.com/terms-of-service",target:"_blank"},"Terms of Service"),", and you have read our ",(0,s.createElement)("a",{href:"https://qreuz.com/privacy",target:"_blank"},"Privacy Policy"),"."),(0,s.createElement)("div",{className:I.wrapper},(0,s.createElement)(m.Z,{variant:"contained",type:"submit",color:"primary",disabled:q,size:"large"},"Register account",q&&(0,s.createElement)(d.Z,{size:24})))))))),(0,s.createElement)(p.Z,{open:L,autoHideDuration:18e3,onClose:N},(0,s.createElement)(f.Z,(0,a.Z)({onClose:N,severity:B.variant,elevation:6,variant:"filled"},e),(0,s.createElement)(g.Z,null,B.title),B.message,(0,s.createElement)(o.rU,{to:B.link01},B.linkText01),(0,s.createElement)(o.rU,{to:B.link02},B.linkText02))))}}}]);